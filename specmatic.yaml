version: 2
contracts:
  - git:
      url: https://github.com/specmatic/specmatic-order-contracts
    provides:
      - specs:
        - io/specmatic/examples/store/grpc/order_bff/order_bff.proto
        specType: openapi
        config:
          baseUrl: "{APP_URL:http://localhost:8080}"
    consumes:
      - specs:
        - io/specmatic/examples/store/grpc/order_api/order.proto
        - io/specmatic/examples/store/grpc/order_api/product.proto
        specType: protobuf
        config:
          host: localhost
          port: 9090
          importPaths:
            - ../
          protocVersion: 3.23.4

      - specs:
        - io/specmatic/examples/store/asyncapi/kafka.yaml
        specType: asyncapi
        config:
          inMemoryBroker:
            host: localhost
            port: 9092
          servers:
            - host: localhost:9092
              protocol: kafka


report:
  formatters:
    - type: ctrf
